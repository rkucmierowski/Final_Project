{% extends 'heritage_register/card_pattern.html' %}
{% load common %}

{% block relic-name %}
  {{ relic.name }}
{% endblock %}

{% block relic-time %}
  {{ relic.time_of_creation }}
{% endblock %}

{% block relic-place %}
  {{ relic.place }}
{% endblock %}

{% block relic-address %}
  {{ relic.address }}
{% endblock %}

{% block relic-province %}
  {{ relic.province }}
{% endblock %}

{% block relic-district %}
  {{ relic.district }}
{% endblock %}

{% block relic-municipality %}
  {{ relic.municipality }}
{% endblock %}

{% block relic-protection %}
  {{ relic.relics_of_protection }}
{% endblock %}

{% block relic-author %}
  <p>
    {{ relic.author.first_name }} {{ relic.author.last_name }}, {{ relic.date|date:'d E Y \r.' }}
  </p>
{% endblock %}

{% block relic-image %}
  <img src="{{ MEDIA_URL }}{{ relic.image }}">
{% endblock %}


{% block footer %}
  <footer>
    {% if is_paginated %}

      {% if page_obj.has_previous %}
        {% set prefix = 'href="?page=' %}
        {% set href1 = 1 %}
        {% set href2 = page_obj.previous_page_number %}
        {% set suffix = '"' %}
      {% endif %}

      <a {{ prefix }}{{ href1 }}{{suffix}} class="page-nav" title="pierwsza karta">&#x23ee;</a>
      <a {{ prefix }}{{ href2 }}{{suffix}} class="page-nav" title="poprzednia karta">&#x23ea;</a>


      {% for i in paginator.page_range %}
        {% if page_obj.number == i %}
          <span>{{ i }}</span>
        {% else %}
          <a href="?page={{ i }}">{{ i }}</a>
        {% endif %}
      {% endfor %}

      {#      <input type="number" name="page_number" value="{{ page_obj.number }}">#}

      {% if page_obj.has_next %}
        {% set prefix2 = 'href="?page=' %}
        {% set href3 = page_obj.next_page_number %}
        {% set href4 = paginator.num_pages %}
        {% set suffix2 = '"' %}
      {% endif %}

      <a {{ prefix2 }}{{ href3 }}{{suffix2}} class="page-nav" title="nastÄ™pna karta">&#x23e9;</a>
      <a {{ prefix2 }}{{ href4 }}{{suffix2}} class="page-nav" title="ostatnia karta">&#x23ed;</a>


      <a href=""
         onclick="{event.preventDefault(); document.querySelector('.confirm-delete-form').style.display='block';}">X</a>
      <a href="{% url 'relic-update' relics_list.0.pk %}">E</a>
      <a href="{% url 'pdf' page_obj.number %}">P</a>
    {% endif %}
  </footer>
{% endblock %}

{% block content %}
  {{ block.super }}
  {% include 'heritage_register/relic_confirm_delete.html' %}
{% endblock %}
